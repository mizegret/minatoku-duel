# インフラ・運用メモ（MVP時点）

## 環境変数・キー管理
- Ably API キーは現在フロントエンドにベタ書き（Pub/Sub 権限に限定）。
- Cloudflare Pages の環境変数は未設定。ローカル開発向けのキー取得フローも未整備。

## デプロイ構成
- Cloudflare Pages を利用。ビルドコマンドは未設定（バニラ JS 構成）。
- 出力ディレクトリは `public/` を指定。
- main ブランチへの push で GitHub Actions が起動し、自動デプロイまで流れる。
- 手動トリガーも設定すれば実行可能な想定（workflow_dispatch）。

## ドメイン
- Route53 で CNAME を作成し、Cloudflare Pages へ接続済み。
- HTTPS は Cloudflare 側の証明書で提供されている。

## ブランチ運用
- 現状 main ブランチのみ。将来的には Git フロー採用を検討するが、個人開発のためスピード優先。

## Ably 設定
- アプリ名: `minatoku-duel`（Free プラン）。
- 利用権限は Pub/Sub に限定。

## 監視・ログ
- Cloudflare Pages／Ably いずれも監視・ロギングは未設定。

## 将来拡張の方向性
- ゲームごとにサブドメインを分け、マイクロフロントエンド的に展開する構想。
- バックエンド導入や AWS への移行も視野にあるが、当面は単一ゲームの最小 MVP を優先。
- 認証は将来的に検討するが、MVP ではゲストプレイを想定。
- 港区女子 Duel の詳細ルールは別途ドキュメント化予定。
